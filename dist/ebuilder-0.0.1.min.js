var EBuilder=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e,t){super(e),this.name="EBuilderError",this.suspect=t,console.warn(`${this.name}: ${this.message}:\n`,this.suspect,"\n")}}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNamedFunction=t.hasName=t.isValidTarget=t.isValidSwap=t.isValidSource=t.isValidChild=t.isEBuilder=t.isElement=t.isEventTupleArray=t.isEventTuple=t.isStringObject=t.isArrayArray=t.isArray=t.isFunction=t.isNumber=t.isTypeOf=t.typeOf=void 0,t.typeOf=e=>(""+{}.toString.call(e)).replace(/^\[object ([a-z]+)\]$/i,"$1").toLowerCase(),t.isTypeOf=(e,...n)=>n.map(n=>t.typeOf(e)===n.toLocaleLowerCase()).reduce((e,t)=>e||t),t.isNumber=e=>t.isTypeOf(e,"number"),t.isFunction=e=>t.isTypeOf(e,"function"),t.isArray=e=>t.isTypeOf(e,"array"),t.isArrayArray=e=>t.isTypeOf(e,"array")&&e.every(e=>t.isTypeOf(e,"array")),t.isStringObject=e=>t.isTypeOf(e,"object")&&Object.keys(e).every(e=>t.isTypeOf(e,"string")),t.isEventTuple=e=>t.isTypeOf(e,"array")&&t.isTypeOf(e[0],"string")&&t.isTypeOf(e[1],"function")&&(!e[2]||t.isTypeOf(e[2],"boolean","object")),t.isEventTupleArray=e=>t.isTypeOf(e,"array")&&e.every(t.isEventTuple),t.isElement=e=>e instanceof Element,t.isEBuilder=e=>e instanceof Object&&"isEBuilder"in e&&"el"in e&&e.isEBuilder&&e.el,t.isValidChild=e=>t.isTypeOf(e,"string","number")||e instanceof Node||e.isEBuilder,t.isValidSource=e=>e instanceof Element||t.isTypeOf(e,"string"),t.isValidSwap=(e,t)=>e instanceof HTMLElement&&t instanceof HTMLElement&&!!e.parentNode&&!!t.parentNode&&e!==t,t.isValidTarget=e=>t.isEBuilder(e)||e instanceof Element,t.hasName=e=>!!e.name,t.isNamedFunction=e=>t.isFunction(e)&&t.hasName(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sourceObject=t.getComputedValue=t.eventInput=t.elementStringSource=void 0;const i=n(1);t.elementStringSource=function(e){const t=e.match(/^@(\w+):/),n=e.match(/:(.+)?/),i=e=>e?e[1]:"";return{rule:i(t),value:i(n)}},t.eventInput=function(e){const[t,n]=e.split("#");var i;return[t,n?"isEBuilder"in(i=this.getRef(n))?i.element:i:this.element]},t.getComputedValue=function(e){return i.isFunction(e)?e.call(this):e},t.sourceObject=e=>{const t=e=>e.split(":");return(e=>{const t=Object.create(null);return e.forEach(e=>{Object.defineProperty(t,e.key,{enumerable:!0,value:{value:e.value,rules:e.rules,hasRules:function(){return!!this.rules.size}}})}),t})((e=>Object.keys(e).map(n=>{const[i,...r]=(e=>e.split("@"))(n),s=new Map(r.map(t));return{key:i,value:e[n],rules:s}}))(e))}},function(e,t,n){"use strict";e.exports=n(4).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),r=n(0),s=n(1),o=n(2),l=n(6);t.default=function(e){if(!s.isValidSource(e))return void new r.default("Invalid source input",e);const t=l.element(e),n=new Map([["window",window]]);return{el:t,element:t,htmlContent:function(){return this.element.innerHTML},isEBuilder:!0,referenceMap:n,getRef:function(e){return this.referenceMap.get(e)||(new r.default("nul!",e),!1)},given:function(...e){return e.forEach(e=>{if(s.isArray(e)){const[t,n]=e;this.referenceMap.set(n,t)}else s.isNamedFunction(e)?this.referenceMap.set(e.name,e):new r.default("Invalid given() argument input",e)}),this},into:function(e,{at:n=-1,times:i=1}={}){if(!s.isValidTarget(e))return;const r=(e=>s.isEBuilder(e)?e.element:e)(e),o=Math.floor(Number(n));return Number.isNaN(o)?r.appendChild(t):((e,t,n)=>{if(!s.isNumber(n))return;const i=t.children,r=((e,t)=>e<0?Math.max(t-1+e,0):Math.min(t-1,e))(n,i.length);0===i.length||i.length-1===r?t.appendChild(e):i[r].insertAdjacentElement("beforebegin",e)})(t,r,o),this.element.dispatchEvent(new CustomEvent("ebuilderinsert")),this},after:function(e){return e.insertAdjacentElement("afterend",t),this.element.dispatchEvent(new CustomEvent("ebuilderinsert")),this},before:function(e){return e.insertAdjacentElement("beforebegin",t),this.element.dispatchEvent(new CustomEvent("ebuilderinsert")),this},replace:function(e){var n;return null===(n=e.parentNode)||void 0===n||n.replaceChild(t,e),this.element.dispatchEvent(new CustomEvent("ebuilderinsert")),this},swap:async function(e,n){if(!s.isValidSwap(t,e))return;if(n){const r="object"==typeof n&&n.animationDuration?n.animationDuration:void 0;await new i.default(r).swap2(t,e)}const r=document.createElement("div");return t.parentNode.replaceChild(r,t),e.parentNode.replaceChild(t,e),r.parentNode.replaceChild(e,r),this},out:function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)},dispatch:function(e,t){const n=t?"isEBuilder"in t?t.element:t:this.element;return n.dispatchEvent(new CustomEvent(e)),console.log(n,e),this},set:function(e={}){const t={properties:l.Properties,attributes:l.Attributes,listeners:l.Listeners,children:l.Children};return l.process.call(this,e,(e,n)=>{e in t&&t[e].call(this,n)}),this.element.dispatchEvent(new CustomEvent("ebuilderset")),this},setAttributes:function(e){return l.Attributes.call(this,e),this},setProperties:function(e){return l.Properties.call(this,e),this},setListeners:function(e){return l.Listeners.call(this,e),this},setChildren:function(e){return l.Children.call(this,e),this},setStyles:function(e){const t=o.getComputedValue.call(this,e);return l.Styles.call(this,t),this},setClasses:function(...e){return t.classList.add(...[].concat(...e)),this},setStyle:function(e={}){return t instanceof HTMLElement&&Object.assign(t.style,e),this},textContent:function(e){return t.textContent=e,this},toString:function(){return t.outerHTML},count:function(){return this.element.childNodes.length}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);t.default=class{constructor(e){if(this.duration=200,this.then={then:e=>setTimeout(e,this.duration)},e&&e<0)throw new i.default("Invalid animation duration",name);this.duration=e||this.duration}swap(e,t){const n=t.getBoundingClientRect().left-e.getBoundingClientRect().left,i=t.getBoundingClientRect().top-e.getBoundingClientRect().top;[e,t].map(e=>e.style.transition=`transform ${this.duration}ms`),e.style.transform=`translate(${n}px, ${i}px)`,t.style.transform=`translate(${-n}px, ${-i}px)`,setTimeout(()=>{[e,t].forEach(e=>{e.style.transform="",e.style.transition=""})},this.duration)}swap2(e,t){const n=t.getBoundingClientRect().left-e.getBoundingClientRect().left,i=t.getBoundingClientRect().top-e.getBoundingClientRect().top,r=e.getBoundingClientRect().height/2,s=c=>{u=(c-a)/this.duration,u>1&&(u=1),l=u<=.5?r*u*2:r*(1-u)*2,e.style.transform=`translate(${n*u}px, ${i*u+l}px)`,t.style.transform=`translate(${-n*u}px, ${-i*u-l}px)`,u<1?requestAnimationFrame(s):o()},o=()=>{[e,t].forEach(e=>e.style.transform="")};let l=0,u=0,a=performance.now();return requestAnimationFrame(s),this.then}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.process=t.Children=t.Listeners=t.Styles=t.Attributes=t.Properties=t.element=void 0;const i=n(0),r=n(1),s=n(2),o=n(7);function l(e,t,n){const i=s.sourceObject(e),r=(e,t)=>{let n=!1;e.forEach((e,i)=>{const r=i.toLowerCase();r in o.RuleMap&&(o.RuleMap[r].call(this,e,t),n=!0)}),n||t()};Object.keys(i).forEach(e=>{if(n&&!(e in n))return;const o=i[e],{value:l,rules:u}=o,a=()=>s.getComputedValue.call(this,l),c=()=>t(e,a());o.hasRules()?r(u,c):c()})}t.element=function(e){const t={html:e=>(e=>{const t=document.createElement("template");return t.innerHTML=e,t.content.firstElementChild})(e),select:e=>document.querySelector(e),element:e=>document.createElement(e)};if(e instanceof Element)return e;if("@"===e.charAt(0)){const{rule:n,value:r}=s.elementStringSource(e);return r||new i.default("Invalid ElBuilder source input",e),t[null!=n?n:"element"](r)}return t[(e=>/^<.*>$/.test(e)?"html":"element")(e)](e)},t.Properties=function(e={}){l.call(this,e,(e,t)=>{this.element[e]=t})},t.Attributes=function(e={}){l.call(this,e,(e,t)=>{this.element instanceof Element&&this.element.setAttribute(e,t)})},t.Styles=function(e={}){l.call(this,e,(e,t)=>{this.element instanceof HTMLElement&&(this.element.style[e]=t)})},t.Listeners=function(e){const t=([e,t,n])=>{this.element.addEventListener(e,t,n)};r.isEventTuple(e)?t(e):r.isEventTupleArray(e)?e.forEach(t):new i.default("Invalid input for listeners input ([string, Function] or [string, Function][] expected)",e)},t.Children=function(e){const t=e=>{r.isValidChild(e)?e instanceof Node?this.element.appendChild(e):r.isTypeOf(e,"string","number")?this.element.innerHTML+=""+e:e.isEBuilder?this.element.appendChild(e.element):new i.default("Invalid input in children array",e):new i.default("Invalid child (Node, string, number or EBuilder instance expected)",e)},n=s.getComputedValue.call(this,e);r.isValidChild(n)?t(n):r.isTypeOf(n,"array")?n.forEach(t):new i.default("Invalid input for children value",n)},t.process=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.For=t.If=t.Timeout=t.Interval=t.Once=t.On=t.RuleMap=void 0;const i=n(0),r=n(2);function s(e,t,n){const[i,s]=r.eventInput.call(this,e),o=()=>{s.removeEventListener(i,o),t()},l=n?o:t;"addEventListener"in s&&s.addEventListener(i,l)}function o(e,t){s.call(this,e,t)}function l(e,t){s.call(this,e,t,!0)}function u(e,t){this.interval=setInterval(t,parseInt(e))}function a(e,t){setTimeout(t,parseInt(e))}function c(e,t){this.referenceMap.has(e)?this.referenceMap.get(e)()&&t():new i.default("Condition id not found. Make sure to provide the corresponding pair [Function: boolean, conditionId: string] as an argument of the .given() method before using an @if rule ",e)}function d(e,t){const n=this.getRef(e);console.log(n,e),n.forEach((e,n,i)=>{console.log(t),t()})}t.RuleMap={on:o,once:l,interval:u,timeout:a,if:c,for:d},t.On=o,t.Once=l,t.Interval=u,t.Timeout=a,t.If=c,t.For=d}]);